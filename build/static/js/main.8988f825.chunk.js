(this.webpackJsonpeobuwie=this.webpackJsonpeobuwie||[]).push([[0],{100:function(e,t,a){e.exports={button:"Button_button__3zqH-",small:"Button_small__3j52r",medium:"Button_medium__3YM_0",large:"Button_large__3qazZ",disabled:"Button_disabled__DIU6j"}},101:function(e,t,a){e.exports={small:"Star_small__qUc7k",medium:"Star_medium__3-qTs",large:"Star_large__bkQkL"}},127:function(e,t,a){e.exports={label:"Label_label__1-cVp",small:"Label_small__r53U2",medium:"Label_medium__1_vBX",large:"Label_large__1lkcS"}},15:function(e,t,a){e.exports={wrapper:"DatePicker_wrapper__3Q38h",picker:"DatePicker_picker__2GIS6",picker_placeholder:"DatePicker_picker_placeholder__26iw5",modal_open:"DatePicker_modal_open__1RzH8",date:"DatePicker_date__1OceY",arrow:"DatePicker_arrow__cyhxM",modal:"DatePicker_modal__3s4h7",modal_header:"DatePicker_modal_header__2Hk0Z",month:"DatePicker_month__18Ila",month_arrow:"DatePicker_month_arrow__22Y78",month_arrow_left:"DatePicker_month_arrow_left__33Hx1",month_arrow_right:"DatePicker_month_arrow_right__9yqOp",month_arrow_btn:"DatePicker_month_arrow_btn__1iPyZ",calendar_container:"DatePicker_calendar_container__jW7D0",week_names:"DatePicker_week_names__fjbW0",week_day:"DatePicker_week_day__G6uuh",calendar_row:"DatePicker_calendar_row__1wiY3"}},194:function(e,t,a){e.exports={app:"App_app__3qm1O"}},195:function(e,t,a){e.exports={divider:"Divider_divider__3x4mr"}},196:function(e,t,a){e.exports={input:"Input_input__VzFn4",hiddenInput:"Input_hiddenInput__bQmqe"}},197:function(e,t,a){e.exports={price:"ReservationHeader_price__1BAzc"}},38:function(e,t,a){e.exports={container:"MonthDay_container__1kkZE",wrapper:"MonthDay_wrapper__LKeoW",day:"MonthDay_day__3lXY7",available:"MonthDay_available__1Sumr",today:"MonthDay_today__5QaDO",selected:"MonthDay_selected__2W-rb",first:"MonthDay_first__dEXUT",last:"MonthDay_last__GFUk3"}},405:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);a(207),a(217);var n=a(12),r=a.n(n),i=a(193),c=a.n(i),o=(a(405),a(28)),l=a(194),s=a.n(l),d=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join(" ").trim()},u="teal",m="teal_light_bg",_="gray_bg",b="text_medium_dark",j="text_medium",p=a(61),f=a(36),h=a(99),v=a(100),O=a.n(v),y=a(1),g=function(e){var t=e.children,a=e.id,n=e.onClick,r=e.type,i=void 0===r?"button":r,c=e.size,o=void 0===c?"medium":c,l=e.classes,s=void 0===l?[]:l,u=e.disabled,m=Object(h.a)(e,["children","id","onClick","type","size","classes","disabled"]);return Object(y.jsx)("button",Object(p.a)(Object(p.a)({},m),{},{className:d.apply(void 0,[O.a.button,O.a[o],u?O.a.disabled:""].concat(Object(f.a)(s))),"aria-disabled":Boolean(u),id:a,type:i,onClick:u?void 0:n,children:t}))},x=a(195),D=a.n(x),k=function(e){var t=e.classes,a=void 0===t?[]:t;return Object(y.jsx)("hr",{"data-testid":"divider",className:d.apply(void 0,[D.a.divider,_].concat(Object(f.a)(a)))})},w=a(196),S=a.n(w),N=function(e){var t=e.value,a=e.onChange,n=e.id,r=e.placeholder,i=e.type,c=void 0===i?"text":i,o=e.classes,l=void 0===o?[]:o,s=Object(h.a)(e,["value","onChange","id","placeholder","type","classes"]);return Object(y.jsx)("input",Object(p.a)(Object(p.a)({},s),{},{className:d.apply(void 0,[S.a.input,j].concat(Object(f.a)(l))),value:t,onChange:function(e){return a(e.target.value)},placeholder:r,type:c,id:n}))},E=a(127),C=a.n(E),M=function(e){var t=e.idFor,a=e.title,n=e.classes,r=void 0===n?[]:n,i=e.required,c=void 0!==i&&i,o=e.size,l=void 0===o?"small":o;return Object(y.jsxs)("label",{"data-testid":"label",htmlFor:t,className:d.apply(void 0,[b,C.a.label,C.a[l]].concat(Object(f.a)(r))),children:[a," ",c?" *":""]})},P=a(197),R=a.n(P);function z(e,t){if(e<0)throw new TypeError("Score must be non negative.");if(t<1)throw new TypeError("1 is minimal index value");var a=t-e;return a<=0?1:a<=.5?.5:0}var I=a(101),A=a.n(I),B=function(e){var t=e.classes,a=void 0===t?[]:t,n=e.rating,r=void 0===n?1:n,i=e.size,c=void 0===i?"medium":i,o="small"===c?A.a.small:"medium"===c?A.a.medium:A.a.large,l=d.apply(void 0,["material-icons",u,o].concat(Object(f.a)(a))),s=1===r?"star":.5===r?"star_half":"star_border";return Object(y.jsx)("div",{"data-testid":"star",role:"presentation",children:Object(y.jsx)("span",{className:l,children:s})})},L=a(62),T=a.n(L),q=function(e){var t=e.score,a=e.votes,n=e.id,r=e.size,i=void 0===r?"medium":r;return Object(y.jsxs)("div",{"data-testid":"star_rating",className:d(T.a.container,T.a["container_"+i]),id:n,children:[Object(y.jsx)("div",{className:T.a.wrapper,"aria-label":"Rating: ".concat(t,". Based on ").concat(a," votes."),children:[1,2,3,4,5].map((function(e){return Object(y.jsx)(B,{rating:z(t,e),size:i},e)}))}),Object(y.jsx)("span",{className:d(T.a.votes,j,T.a["votes_"+i]),children:a})]})},F=function(e){var t=e.price,a=e.score,n=e.votes,r=e.id;return Object(y.jsxs)("div",{"data-testid":"card_header",id:r,children:[Object(y.jsxs)("h3",{className:d(R.a.price,"text_dark"),"aria-label":"Reservation price",children:[t," z\u0142"]}),Object(y.jsx)(q,{score:a,votes:n,size:"small"})]})},Q=a(15),U=a.n(Q),G=a(53);function W(e){return Array.from(e.querySelectorAll('a[href], button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')).filter((function(e){return!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden")}))}function Y(e,t,a){var r=Object(n.useState)(null),i=Object(o.a)(r,2),c=i[0],l=i[1];Object(n.useEffect)((function(){var n=function(e){(function(e,t){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest)return Boolean(e.closest(t));do{if(e.matches(t))return!0;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return!1})(e.target,"#"+a)||t(!1)},r=function(e){if(e.preventDefault(),"Escape"!==e.key){var n=document.getElementById(a);if(!n)throw new Error("Picker modal not found in document. Given id : "+a);var r=W(n),i=Boolean(n.querySelector("[data-column]")),c=r.findIndex((function(e){return e===document.activeElement}));if(r.length)if("Tab"===e.key&&!e.shiftKey||"ArrowRight"===e.key)-1===c?r[0].focus():r[(c+1)%r.length].focus();else if("Tab"===e.key&&e.shiftKey||"ArrowLeft"===e.key)-1===c?r[r.length-1].focus():r[((0===c?r.length:c)-1)%r.length].focus();else if("Enter"===e.key&&c>-1)r[c].click();else if(i&&("ArrowUp"===e.key||"ArrowDown"===e.key)){var o="ArrowDown"===e.key,l=document.activeElement.dataset.column;if(!l)return void r[o?0:r.length-1].focus();var s=Array.from(document.querySelectorAll('[data-column="'.concat(l,'"')));if(!s.length)return;var d=s.findIndex((function(e){return e===document.activeElement}));if(d<0)return;o?s[(d+1)%s.length].focus():s[((0===d?s.length:d)-1)%s.length].focus()}}else t(!1)};return e&&(document.addEventListener("click",n),document.addEventListener("keydown",r)),function(){document.removeEventListener("click",n),document.removeEventListener("keydown",r)}}),[e,t,a]),Object(n.useEffect)((function(){var t=document.getElementById(a);if(e&&t&&!c){l(document.activeElement);var n=W(t)[0];n&&n.focus()}else!e&&c&&(c.focus(),l(null))}),[e,c,l,a])}var H=a(128),K=a(38),Z=a.n(K),J=function(e){var t=e.dateString,a=e.timeStamp,n=e.monthDay,r=e.column,i=e.available,c=e.onClick,o=e.firstSelected,l=e.lastSelected,s=e.selected,u=e.today;if((o||l)&&!s)throw new Error("MonthDay cannot be firstSelected or lastSelected without being selected");if(!i&&s)throw new Error("MonthDay cannot be selected without being available");var m=i?Z.a.available:"",_=u?Z.a.today:"",b=s?Z.a.selected:"",j=o?Z.a.first:"",p=l?Z.a.last:"";return Object(y.jsx)("div",{"data-testid":"month_day",onClick:i?function(){return c(a)}:void 0,role:"gridcell","data-column":r,"aria-label":"You choose ".concat(t),tabIndex:0,"aria-disabled":!i,"data-date":t,className:d(Z.a.container,m,_,b,j,p),children:Object(y.jsx)("div",{className:Z.a.wrapper,children:Object(y.jsx)("div",{className:Z.a.day,children:n})})})},X=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=function(e){var t=e.open,a=e.id,n=e.monthDays,r=e.pickerDate,i=e.setPickerDate,c=e.onDateClick,o=e.startDate,l=e.endDate,s=Array.from({length:n.length/7},(function(e,t){return t})),u=o?"number"===typeof o?o:o.getTime():null,m=l?"number"===typeof l?l:l.getTime():null,_=function(e){return m?e.timeStamp>=(u||0)&&e.timeStamp<=m:e.timeStamp===u};return Object(y.jsx)("div",{className:U.a.modal,hidden:!t,"aria-hidden":t?"false":"true","aria-modal":t?"true":"false",role:"dialog","aria-label":"Choose reservation dates",id:a,children:Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:d(U.a.modal_header,"cyan_bg","text_white"),children:[Object(y.jsx)("button",{"data-column":0,className:U.a.month_arrow_btn,onClick:function(){return i((function(e){return Object(H.a)(e,-1)}))},children:Object(y.jsx)("span",{className:d(b,U.a.month_arrow,U.a.month_arrow_left)})}),Object(y.jsxs)("div",{className:U.a.month,children:[Object(G.a)(r,"LLLL")," ",r.getFullYear()]}),Object(y.jsx)("button",{"data-column":6,className:U.a.month_arrow_btn,onClick:function(){return i((function(e){return Object(H.a)(e,1)}))},children:Object(y.jsx)("span",{className:d(b,U.a.month_arrow,U.a.month_arrow_right)})})]}),Object(y.jsxs)("div",{role:"grid",className:U.a.calendar_container,children:[Object(y.jsx)("div",{role:"row",className:U.a.week_names,children:X.map((function(e){return Object(y.jsx)("div",{role:"columnheader",className:d("text_medium_light",U.a.week_day),children:e},e)}))}),s.map((function(e){return Object(y.jsx)("div",{role:"row",className:U.a.calendar_row,children:n.filter((function(t,a){return a<7*(e+1)&&a>=7*e})).map((function(e,t){return Object(y.jsx)(J,{available:e.available,column:t,dateString:e.dateString,firstSelected:e.timeStamp===u,lastSelected:e.timeStamp===m,selected:_(e),monthDay:e.monthDay,timeStamp:e.timeStamp,today:e.today,onClick:function(){return c(e)}},e.dateString)}))},"row_"+e)}))]})]})})},$=a(200),ee=a(202),te=a(199),ae=a(58),ne=a(198),re=a(201),ie=a(98);function ce(e){var t=Object(ne.a)(e),a=Object(te.a)(e),n=Object($.a)(t),r=Object(re.a)(t,n),i=Object(ee.a)(e),c=(i+r>35?42:35)-(r+i);return 28===i&&Object(ae.a)(t,n)?[t,a]:[n,Object(ie.a)(a,c)]}var oe=a(206),le=a(205),se=a(203),de=a(59),ue=a(204);function me(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,r=arguments.length>4?arguments[4]:void 0;if(Object(se.a)(t,e))throw new TypeError("End date must not be before start date");var i=Object(de.a)(t,e),c=new Date;a=a.filter((function(e){return Object(ue.a)(e,n)}));for(var o=[],l=function(t){var n=Object(ie.a)(e,t),i=Object(de.a)(n,c)>=0&&!a.some((function(e){return Object(ae.a)(e,n)}));r&&i&&(i=Object(de.a)(n,r)<=0),o.push({available:i,weekDay:Object(le.a)(n),today:Object(oe.a)(n),timeStamp:n.getTime(),monthDay:n.getDate(),dateString:Object(G.a)(n,"dd/MM/yyyy")})},s=0;s<=i;s++)l(s);return o}var _e=function(e){var t=e.startDate,a=e.endDate,r=e.id,i=e.unavailableDates,c=e.setStartDate,l=e.setEndDate,s=Object(n.useState)(!1),_=Object(o.a)(s,2),j=_[0],p=_[1],f=Object(n.useState)(new Date),h=Object(o.a)(f,2),v=h[0],O=h[1],g=Object(n.useState)([]),x=Object(o.a)(g,2),D=x[0],k=x[1],w=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(v),S=r||"reservation_date_picker",N=Object(n.useMemo)((function(){return r?r+"_modal":"reservation_date_picker_modal"}),[r]),E=t?Object(G.a)(t,"dd/MM/yyyy"):"Check In",C=a?Object(G.a)(a,"dd/MM/yyyy"):"Check Out",M=j||t?d(U.a.date,u,m):U.a.date,P=a?d(U.a.date,u,m):U.a.date;Y(j,p,N),Object(n.useEffect)((function(){if(j&&!t&&v&&(!D.length||v!==w)){var e=ce(v),a=Object(o.a)(e,2),n=a[0],r=a[1];k(me(n,r,i,v))}}),[v,w,j,i,k,D,t]),Object(n.useEffect)((function(){if(j&&v&&D.length&&t){var e,a=ce(v),n=Object(o.a)(a,2),r=n[0],c=n[1];if(t){var l="number"===typeof t?t:t.getTime(),s=D.findIndex((function(e){return!e.available&&e.timeStamp>l}));e=(D[s-1]||{}).timeStamp}var d=me(r,c,i,v,e);k(d)}}),[v,j,i,k,D,t]);var R=Object(n.useCallback)((function(e){if(e.available){if(!t)return c(e.timeStamp);if(t&&!a)return Object(ae.a)(t,e.timeStamp)?c(null):l(e.timeStamp);if(a){var n=Object(ae.a)(a,e.timeStamp);return l(n?null:e.timeStamp)}}}),[t,a,c,l]);return Object(y.jsxs)("div",{"data-testid":"date_picker",id:S,className:U.a.wrapper,children:[Object(y.jsxs)("button",{onClick:function(){return p((function(e){return!e}))},className:d(U.a.picker,b,j?U.a.modal_open:""),"aria-controls":S+"_dialog","aria-haspopup":"true","aria-label":"Controls reservation datepicker","aria-describedby":S+"_info",children:[Object(y.jsx)("span",{className:M,children:E}),Object(y.jsx)("span",{className:d(U.a.arrow,b)}),Object(y.jsx)("span",{className:P,children:C})]}),Object(y.jsx)("span",{className:"visually-hidden",id:S+"_info",children:"This button opens popup dialog, where reservation dates can be chosen."}),Object(y.jsx)(V,{open:j,monthDays:D,unavailableDates:i,id:N,onDateClick:R,setPickerDate:O,pickerDate:v,startDate:t,endDate:a})]})},be=a(45),je=a.n(be),pe=function(e){var t=e.price,a=e.score,r=e.votes,i=e.onSubmit,c=e.startDate,l=e.endDate,s=e.unavailableDates,u=e.setEndDate,m=e.setStartDate,_=Object(n.useState)(""),b=Object(o.a)(_,2),j=b[0];b[1];return Object(y.jsxs)("div",{className:je.a.card,children:[Object(y.jsx)(F,{price:t,score:a,votes:r}),Object(y.jsx)(k,{}),Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i()},children:[Object(y.jsxs)("div",{className:je.a.formControl,children:[Object(y.jsx)(M,{idFor:"dummy1",title:"Dates",size:"small"}),Object(y.jsx)(_e,{unavailableDates:s,startDate:c,endDate:l,setStartDate:m,setEndDate:u})]}),Object(y.jsxs)("div",{className:je.a.formControl,children:[Object(y.jsx)(M,{idFor:"dummy1",title:"Dummy 1",size:"small"}),Object(y.jsx)(N,{id:"dummy1",placeholder:"Dummy content",value:"",onChange:function(){}})]}),Object(y.jsxs)("div",{className:je.a.formControl,children:[Object(y.jsx)(M,{idFor:"dummy1",title:"Dummy 2",size:"small"}),Object(y.jsx)(N,{id:"dummy2",placeholder:"Dummy content 2",value:"",onChange:function(){}})]}),Object(y.jsxs)("div",{className:je.a.formControl,children:[Object(y.jsx)("p",{className:d(je.a.errMsg,j?je.a.error:""),children:j}),Object(y.jsx)(g,{type:"submit",size:"medium",disabled:Boolean(j),children:"Submit"})]})]})]})},fe=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),c=Object(o.a)(i,2),l=c[0],u=c[1];return Object(y.jsx)("div",{className:d(s.a.app,"gray_light_bg"),children:Object(y.jsx)(pe,{score:4.5,votes:100,price:200,unavailableDates:[],startDate:a,endDate:l,setEndDate:u,setStartDate:r,onSubmit:function(){}})})};c.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(fe,{})}),document.getElementById("root"))},45:function(e,t,a){e.exports={card:"ReservationCard_card__1GAHu",formControl:"ReservationCard_formControl__9GbNR",errMsg:"ReservationCard_errMsg__yFKAQ",error:"ReservationCard_error__3Ebwq"}},62:function(e,t,a){e.exports={container:"StarRating_container__3Jqz6",wrapper:"StarRating_wrapper__14aQN",container_small:"StarRating_container_small__1UnWI",container_medium:"StarRating_container_medium__2DWbL",container_large:"StarRating_container_large__386Mf",votes:"StarRating_votes__3eIIG",votes_small:"StarRating_votes_small__10K2U",votes_medium:"StarRating_votes_medium__1ozC5",votes_large:"StarRating_votes_large__Q8QB9"}}},[[407,1,2]]]);
//# sourceMappingURL=main.8988f825.chunk.js.map