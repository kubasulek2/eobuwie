(this.webpackJsonpeobuwie=this.webpackJsonpeobuwie||[]).push([[0],{102:function(e,t,a){e.exports={button:"Button_button__3KBWX",small:"Button_small__1MxXK",medium:"Button_medium__3efDZ",large:"Button_large__3XhXW",disabled:"Button_disabled__3HM7Y"}},128:function(e,t,a){e.exports={label:"Label_label__3V9v3",small:"Label_small__337-V",medium:"Label_medium__2YMHw",large:"Label_large__38LaH"}},195:function(e,t,a){e.exports={app:"App_app__3KXsq"}},196:function(e,t,a){e.exports={divider:"Divider_divider__4IKf8"}},197:function(e,t,a){e.exports={input:"Input_input__WiRNm",hiddenInput:"Input_hiddenInput__1RPH_"}},198:function(e,t,a){e.exports={price:"ReservationHeader_price__2JxYH"}},23:function(e,t,a){e.exports={modal:"DatePickerModal_modal__1ZZUh",modal_header:"DatePickerModal_modal_header__1F2gA",month:"DatePickerModal_month__1t3Td",month_arrow:"DatePickerModal_month_arrow__1wXA-",month_arrow_left:"DatePickerModal_month_arrow_left__3Pbth",month_arrow_right:"DatePickerModal_month_arrow_right__34jGE",month_arrow_btn:"DatePickerModal_month_arrow_btn__2mvou",calendar_container:"DatePickerModal_calendar_container__3AlkM",week_names:"DatePickerModal_week_names__wW3yH",week_day:"DatePickerModal_week_day__3rukS",calendar_row:"DatePickerModal_calendar_row__1C0J9"}},33:function(e,t,a){e.exports={wrapper:"DatePicker_wrapper__3pAZ4",picker:"DatePicker_picker__14_KY",picker_placeholder:"DatePicker_picker_placeholder__3dsWo",modal_open:"DatePicker_modal_open__1ML_n",date:"DatePicker_date__2BaG_",date_selected:"DatePicker_date_selected__2fQdT",arrow:"DatePicker_arrow__2SdQ1"}},39:function(e,t,a){e.exports={small:"Star_small__7XXwT",medium:"Star_medium__3PXpV",large:"Star_large__1EQa7",icon:"Star_icon__13Z6K",one:"Star_one__I40_0",two:"Star_two__1mczC",star_half:"Star_star_half__1HJ_-",star_empty:"Star_star_empty__O4JPo"}},40:function(e,t,a){e.exports={container:"MonthDay_container__g1KKZ",wrapper:"MonthDay_wrapper__3Miex",day:"MonthDay_day__2t_td",available:"MonthDay_available__haWyX",today:"MonthDay_today__US1Xj",selected:"MonthDay_selected__3tXk-",only:"MonthDay_only__zFrVI",first:"MonthDay_first__3877O",last:"MonthDay_last__2GF_o"}},405:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);a(207),a(217);var n=a(8),r=a.n(n),o=a(194),i=a.n(o),c=(a(405),a(28)),s=a(195),l=a.n(s),d=a(38),u=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join(" ").trim()},m=a(63),_=a(37),b=a(101),j=a(102),p=a.n(j),f=a(1),h=function(e){var t=e.children,a=e.id,n=e.onClick,r=e.type,o=void 0===r?"button":r,i=e.size,c=void 0===i?"medium":i,s=e.classes,l=void 0===s?[]:s,d=e.disabled,j=Object(b.a)(e,["children","id","onClick","type","size","classes","disabled"]);return Object(f.jsx)("button",Object(m.a)(Object(m.a)({},j),{},{className:u.apply(void 0,[p.a.button,p.a[c],d?p.a.disabled:""].concat(Object(_.a)(l))),"aria-disabled":d?"true":"false",id:a,type:o,onClick:d?void 0:n,children:t}))},v=a(196),O=a.n(v),y=function(e){var t=e.classes,a=void 0===t?[]:t;return Object(f.jsx)("hr",{"data-testid":"divider",className:u.apply(void 0,[O.a.divider].concat(Object(_.a)(a)))})},D=a(197),w=a.n(D),k=function(e){var t=e.value,a=e.onChange,n=e.id,r=e.placeholder,o=e.type,i=void 0===o?"text":o,c=e.classes,s=void 0===c?[]:c,l=Object(b.a)(e,["value","onChange","id","placeholder","type","classes"]);return Object(f.jsx)("input",Object(m.a)(Object(m.a)({},l),{},{className:u.apply(void 0,[w.a.input].concat(Object(_.a)(s))),value:t,onChange:function(e){return a?a(e.target.value):void 0},placeholder:r,type:i,id:n}))},x=a(128),g=a.n(x),S=function(e){var t=e.idFor,a=e.title,n=e.classes,r=void 0===n?[]:n,o=e.required,i=void 0!==o&&o,c=e.size,s=void 0===c?"small":c;return Object(f.jsxs)("label",{"data-testid":"label",htmlFor:t,className:u.apply(void 0,[g.a.label,g.a[s]].concat(Object(_.a)(r))),children:[a," ",i?" *":""]})},M=a(198),N=a.n(M);function E(e,t){if(e<0)throw new TypeError("Score must be non negative.");if(t<1)throw new TypeError("1 is minimal index value");var a=t-e;return a<=0?1:a<=.5?.5:0}var C=a(39),P=a.n(C),R=function(e){var t=e.classes,a=void 0===t?[]:t,n=e.rating,r=void 0===n?1:n,o=e.size,i=void 0===o?"medium":o,c=1===r?P.a.star:.5===r?P.a.star_half:P.a.star_empty,s="small"===i?P.a.small:"medium"===i?P.a.medium:P.a.large,l=u.apply(void 0,[P.a.icon,c].concat(Object(_.a)(a)));return Object(f.jsx)("div",{"data-testid":"star",role:"presentation","aria-hidden":"true",className:s,children:Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 279.62 265.93",className:l,children:[Object(f.jsx)("polygon",{className:P.a.one,points:"0 101.58 106.8 101.58 139.81 0 139.81 203.15 53.4 265.93 86.41 164.35 0 101.58"}),Object(f.jsx)("polygon",{className:P.a.two,points:"279.62 101.58 172.81 101.58 139.81 0 139.81 203.15 226.22 265.93 193.21 164.35 279.62 101.58"})]})})},A=a(64),B=a.n(A),I=function(e){var t=e.score,a=e.votes,n=e.id,r=e.size,o=void 0===r?"medium":r;return Object(f.jsxs)("div",{"data-testid":"star_rating",className:u(B.a.container,B.a["container_"+o]),id:n,children:[Object(f.jsx)("div",{className:B.a.wrapper,"aria-label":"Rating: ".concat(t,". Based on ").concat(a," votes."),children:[1,2,3,4,5].map((function(e){return Object(f.jsx)(R,{rating:E(t,e),size:o},e)}))}),Object(f.jsx)("span",{className:u(B.a.votes,B.a["votes_"+o]),children:a})]})},L=function(e){var t=e.price,a=e.score,n=e.votes,r=e.id;return Object(f.jsxs)("div",{"data-testid":"card_header",id:r,children:[Object(f.jsxs)("h3",{className:N.a.price,"aria-label":"Reservation price",children:[t," z\u0142"]}),Object(f.jsx)(I,{score:a,votes:n,size:"small"})]})},T=a(50),z=a(58),K=a(129),X=a(23),F=a.n(X),H=a(40),J=a.n(H),W=function(e){var t=e.dateString,a=e.timeStamp,n=e.monthDay,r=e.column,o=e.available,i=e.onClick,c=e.firstSelected,s=e.lastSelected,l=e.selected,d=e.onlySelected,m=e.today;if((c||s||d)&&!l)throw new Error("MonthDay cannot be firstSelected or lastSelected without being selected");if(!o&&l)throw new Error("MonthDay cannot be selected without being available");var _=o?J.a.available:"",b=m?J.a.today:"",j=l?J.a.selected:"",p=c?J.a.first:"",h=s?J.a.last:"",v=d?J.a.only:"";return Object(f.jsx)("div",{onMouseDown:function(e){return e.preventDefault()},"data-testid":"month_day",onClick:o?function(){return i(a)}:void 0,role:"gridcell","data-column":r,"aria-label":"You choose ".concat(t),tabIndex:0,"aria-disabled":o?"false":"true","data-date":t,className:u(J.a.container,_,b,j,p,h,v),children:Object(f.jsx)("div",{className:J.a.wrapper,children:Object(f.jsx)("div",{className:J.a.day,children:n})})})},Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z=function(e){var t=e.open,a=e.id,n=e.monthDays,r=e.pickerDate,o=e.setPickerDate,i=e.onDateClick,c=e.startDate,s=e.endDate,l=Array.from({length:n.length/7},(function(e,t){return t})),d=c?"number"===typeof c?c:c.getTime():null,m=s?"number"===typeof s?s:s.getTime():null,_=function(e){return m?e.timeStamp>=(d||0)&&e.timeStamp<=m:e.timeStamp===d},b=function(e){return _(e)&&(!m||e.timeStamp===m&&e.timeStamp===d)};return Object(f.jsx)("div",{className:F.a.modal,hidden:!t,"aria-modal":t?"true":"false",role:"dialog","aria-label":"Choose reservation dates",id:a,children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:F.a.modal_header,children:[Object(f.jsx)("button",{title:"Previous month","data-column":0,className:F.a.month_arrow_btn,onClick:function(){return o(Object(K.a)(r,-1))},children:Object(f.jsx)("span",{"aria-hidden":"true",className:u(F.a.month_arrow,F.a.month_arrow_left)})}),Object(f.jsxs)("div",{className:F.a.month,children:[Object(z.a)(r,"LLLL")," ",r.getFullYear()]}),Object(f.jsx)("button",{title:"Next month","data-column":6,className:F.a.month_arrow_btn,onClick:function(){return o(Object(K.a)(r,1))},children:Object(f.jsx)("span",{"aria-hidden":"true",className:u(F.a.month_arrow,F.a.month_arrow_right)})})]}),Object(f.jsx)("div",{role:"grid",className:F.a.calendar_container,children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{role:"row",className:F.a.week_names,children:Y.map((function(e){return Object(f.jsx)("div",{role:"columnheader",className:F.a.week_day,children:e},e)}))}),l.map((function(e){return Object(f.jsx)("div",{role:"row",className:F.a.calendar_row,children:n.filter((function(t,a){return a<7*(e+1)&&a>=7*e})).map((function(e,t){return Object(f.jsx)(W,{onlySelected:b(e),available:e.available,column:t,dateString:e.dateString,firstSelected:e.timeStamp===d,lastSelected:e.timeStamp===m,selected:_(e),monthDay:e.monthDay,timeStamp:e.timeStamp,today:e.today,onClick:function(){return i(e)}},e.dateString)}))},"row_"+e)}))]})})]})})},q=a(33),U=a.n(q),V=a(42),G=a(201),Q=a(200),$=a(199),ee=a(100);function te(e,t,a){arguments.length>3&&void 0!==arguments[3]||new Date;var n=arguments.length>4?arguments[4]:void 0;if(Object($.a)(t,e))throw new TypeError("End date must not be before start date");var r=Object(d.a)(t,e),o=new Date;a=a.sort((function(e,t){return e-t}));for(var i=n?a.find((function(e){return e>n})):void 0,c=[],s=function(t){var r=Object(ee.a)(e,t),s=Object(d.a)(r,o)>=0&&!a.some((function(e){return Object(T.a)(e,r)}));i&&s&&(s=Object(d.a)(r,i)<0),n&&s&&(s=Object(d.a)(r,n)>=0),c.push({available:s,weekDay:Object(Q.a)(r),today:Object(G.a)(r),timeStamp:r.getTime(),monthDay:r.getDate(),dateString:Object(z.a)(r,"dd/MM/yyyy")})},l=0;l<=r;l++)s(l);return c}var ae=a(204),ne=a(206),re=a(203),oe=a(202),ie=a(205);function ce(e){var t=Object(oe.a)(e),a=Object(re.a)(e),n=Object(ae.a)(t),r=Object(ie.a)(t,n),o=Object(ne.a)(e),i=(o+r>35?42:35)-(r+o);return 28===o&&Object(T.a)(t,n)?[t,a]:[n,Object(ee.a)(a,i)]}function se(e,t){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest)return Boolean(e.closest(t));do{if(e.matches(t))return!0;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return!1}function le(e){return Array.from(e.querySelectorAll('a[href], button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')).filter((function(e){return!e.hasAttribute("disabled")&&!("true"===e.getAttribute("aria-hidden"))}))}function de(e,t,a,r,o,i){var s=Object(n.useState)(!1),l=Object(c.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)(Object(V.a)(new Date)),_=Object(c.a)(m,2),b=_[0],j=_[1],p=Object(n.useState)([]),f=Object(c.a)(p,2),h=f[0],v=f[1],O=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(a),y=i||"reservation_date_picker",D=Object(n.useMemo)((function(){return i?i+"_modal":"reservation_date_picker_modal"}),[i]);return function(e,t,a,r){var o=Object(n.useState)(null),i=Object(c.a)(o,2),s=i[0],l=i[1];Object(n.useEffect)((function(){var a=function(e){se(e.target,"#"+r)||t(!1)},n=function(e){if(e.preventDefault(),"Escape"!==e.key&&"Esc"!==e.key){var a=document.getElementById(r);if(!a)throw new Error("Picker modal not found in document. Given id : "+r);var n=le(a),o=Boolean(a.querySelector("[data-column]")),i=n.findIndex((function(e){return e===document.activeElement}));if(n.length)if("Tab"===e.key&&!e.shiftKey||"ArrowRight"===e.key||"Right"===e.key)-1===i?n[0].focus():n[(i+1)%n.length].focus();else if("Tab"===e.key&&e.shiftKey||"ArrowLeft"===e.key||"Left"===e.key)-1===i?n[n.length-1].focus():n[((0===i?n.length:i)-1)%n.length].focus();else if("Enter"===e.key&&i>-1)n[i].click();else if(o&&("ArrowUp"===e.key||"ArrowDown"===e.key||"Down"===e.key||"Up"===e.key)){var c="ArrowDown"===e.key||"Down"===e.key,s=document.activeElement.dataset.column;if(!s)return void n[c?0:n.length-1].focus();var l=Array.from(document.querySelectorAll('[data-column="'.concat(s,'"')));if(!l.length)return;var d=l.findIndex((function(e){return e===document.activeElement}));if(d<0)return;c?l[(d+1)%l.length].focus():l[((0===d?l.length:d)-1)%l.length].focus()}}else t(!1)};return e&&(document.addEventListener("click",a),document.addEventListener("keydown",n)),function(){document.removeEventListener("click",a),document.removeEventListener("keydown",n)}}),[e,t,r]),Object(n.useEffect)((function(){var t=document.getElementById(r);if(e&&t&&!s){l(document.activeElement);var n=le(t)[0];n&&document.activeElement&&se(document.activeElement,"#"+a)&&n.focus()}else!e&&s&&(s.focus(),l(null))}),[e,s,l,r,a])}(d,u,y,D),Object(n.useEffect)((function(){d&&(e(null),t(null),j(Object(V.a)(new Date)))}),[d,e,t]),Object(n.useEffect)((function(){if(b){var e=ce(b),t=Object(c.a)(e,2),n=t[0],r=t[1];v(te(n,r,o,b,a||void 0))}}),[b,o,a]),Object(n.useEffect)((function(){if(a&&a!==O){var e=ce(b),t=Object(c.a)(e,2),n=te(t[0],t[1],o,b,a);v(n)}}),[b,o,a,O]),Object(n.useEffect)((function(){d||a&&r||(e(null),t(null))}),[d,a,r,t,e]),{pickerOpen:d,setPickerOpen:u,pickerDate:b,setPickerDate:j,monthDays:h,pickerId:y,modalId:D}}var ue=function(e){var t=e.startDate,a=e.endDate,r=e.id,o=e.unavailableDates,i=e.setStartDate,c=e.setEndDate,s=t?Object(z.a)(t,"dd/MM/yyyy"):"Check In",l=a?Object(z.a)(a,"dd/MM/yyyy"):"Check Out",d=de(i,c,t,a,o,r),m=d.monthDays,_=d.pickerDate,b=d.pickerOpen,j=d.setPickerDate,p=d.setPickerOpen,h=d.pickerId,v=d.modalId,O=b&&!t?u(U.a.date,U.a.date_selected):U.a.date,y=b&&t&&!a?u(U.a.date,U.a.date_selected):U.a.date,D=Object(n.useCallback)((function(e){if(e.available){if(!t)return i(e.timeStamp);if(t&&!a)return c(e.timeStamp);if(a){var n=Object(T.a)(a,e.timeStamp);return c(n?null:e.timeStamp)}}}),[t,a,i,c]);return Object(f.jsxs)("div",{"data-testid":"date_picker",id:h,className:U.a.wrapper,children:[Object(f.jsxs)("button",{type:"button",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return p((function(e){return!e}))},className:u(U.a.picker,b?U.a.modal_open:""),"aria-controls":h+"_dialog","aria-haspopup":"true","aria-label":"Controls reservation datepicker","aria-describedby":h+"_info",children:[Object(f.jsx)("span",{className:O,children:s}),Object(f.jsx)("span",{className:U.a.arrow}),Object(f.jsx)("span",{className:y,children:l})]}),Object(f.jsx)("span",{className:"visually-hidden",id:h+"_info",children:"This button opens popup dialog, where reservation dates can be chosen."}),Object(f.jsx)(Z,{open:b,monthDays:m,unavailableDates:o,id:v,onDateClick:D,setPickerDate:j,pickerDate:_,startDate:t,endDate:a})]})},me=a(43),_e=a.n(me),be=function(e){var t=e.price,a=e.score,r=e.votes,o=e.onSubmit,i=e.startDate,s=e.endDate,l=e.unavailableDates,m=e.setEndDate,_=e.setStartDate,b=Object(n.useState)(""),j=Object(c.a)(b,2),p=j[0],v=j[1],O=Object(n.useCallback)((function(e){_(e),e&&v("")}),[_,v]),D=Object(n.useCallback)((function(e){m(e),e&&v("")}),[m,v]);return Object(f.jsxs)("div",{className:_e.a.card,"data-testid":"reservation_card",children:[Object(f.jsxs)("div",{className:_e.a.formControl,children:[Object(f.jsx)(L,{price:t,score:a,votes:r}),Object(f.jsx)(y,{})]}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(i&&s?Object(d.a)(i,new Date)<0||Object(d.a)(s,new Date)<0?(v("Cannot reserve past dates"),0):i>s?(v("End date may not be before start date."),0):!l.some((function(e){return e>=i&&e<=s}))||(v("Unavailable date(s) are checked"),0):(v("Both dates must be set"),0))&&o()},name:"reservation_form",children:[Object(f.jsxs)("div",{className:_e.a.formControl,children:[Object(f.jsx)(S,{idFor:"dummy1",title:"Dates",size:"small"}),Object(f.jsx)(ue,{unavailableDates:l,startDate:i,endDate:s,setStartDate:O,setEndDate:D})]}),Object(f.jsxs)("div",{className:_e.a.formControl,children:[Object(f.jsx)(S,{idFor:"dummy1",title:"Dummy 1",size:"small"}),Object(f.jsx)(k,{id:"dummy1",placeholder:"Dummy content",onChange:function(){return v("")},name:"dummy1"})]}),Object(f.jsxs)("div",{className:_e.a.formControl,children:[Object(f.jsx)(S,{idFor:"dummy2",title:"Dummy 2",size:"small"}),Object(f.jsx)(k,{id:"dummy2",placeholder:"Dummy content 2",onChange:function(){return v("")},name:"dummy2"})]}),Object(f.jsxs)("div",{className:_e.a.formControl,children:[Object(f.jsx)("p",{role:"alert","aria-atomic":"true",className:u(_e.a.errMsg,p?_e.a.error:""),children:p}),Object(f.jsx)(h,{type:"submit",size:"medium",disabled:Boolean(p),children:"Submit"})]})]})]})},je=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),i=Object(c.a)(o,2),s=i[0],d=i[1],u=Object(n.useMemo)((function(){return[Object(ee.a)(new Date,5)]}),[]);return Object(f.jsx)("div",{className:l.a.app,children:Object(f.jsx)(be,{score:2.5,votes:100,price:200,unavailableDates:u,startDate:a,endDate:s,setEndDate:d,setStartDate:r,onSubmit:function(){}})})};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(je,{})}),document.getElementById("root"))},43:function(e,t,a){e.exports={card:"ReservationCard_card__2rAK2",formControl:"ReservationCard_formControl__3rS9P",errMsg:"ReservationCard_errMsg__1tRyK",error:"ReservationCard_error__3mKvp"}},64:function(e,t,a){e.exports={container:"StarRating_container__3YJi2",wrapper:"StarRating_wrapper__dyBtg",container_small:"StarRating_container_small__166AX",container_medium:"StarRating_container_medium__3D_BF",container_large:"StarRating_container_large__2RQVN",votes:"StarRating_votes__mFDl5",votes_small:"StarRating_votes_small__2OhR1",votes_medium:"StarRating_votes_medium__39Odb",votes_large:"StarRating_votes_large__1ydnL"}}},[[407,1,2]]]);
//# sourceMappingURL=main.1fea6aa3.chunk.js.map